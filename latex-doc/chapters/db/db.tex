%!TeX root =  ../../Marvus-in-Cpp.tex

\section{Foreword}

Even thought SQLite have \wxw wrapper I didnâ€™t use it as I wants my application logic to be independent from the GUI framework. 

\section{ERD Diagram}

\begin{figure}[H]
	\centering
	\includegraphics[width=\textwidth]{images/erd.png}
    	\caption{Database ERD}
   	\label{fig:dbERD}
\end{figure}

 Each \textbf{PAYMENT} have one  \textbf{CATEGORY} for simplification and this will give us rough statistics per  \textbf{CATEGORY} as
purpose of this database/application is to track income and spending's and not fully accurate accountant statistics.

\subsection{PAYMENTS}

\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}} % centered vertically

\begin{table}[H]
\centering
\begin{tabulary}{\textwidth}{|| c | c | M{0.55\textwidth} ||}
\hline
    \multicolumn{3}{||c||}{\textbf{Payment table fields}} \\
\hline
    \textbf{Data type} & \textbf{Name} & \textbf{Stores} \\
\hline
    \TypeIntegerDB & payment\_id & Primary key (row identifier). \\
\hline
    \TypeIntegerDB & establishment\_id\_key & Foreign key referencing \texttt{ESTABLISHMENTS} \\
\hline
	\TypeIntegerDB & category\_id\_key       & Foreign key referencing \texttt{CATEGORIES}. \\
\hline
   \makecell[c]{ \TypeTextDB} & payment\_value & Monetary value. Stored as text to avoid loss of decimal precision. \\
\hline
    \makecell[c]{\TypeDateDB} & payment\_date & Date of the payment, stored as string in~ISO-8601 format.* \\
\hline
    \TypeTextDB & payment\_note & Optional free-text note. \\
\hline
\end{tabulary}
\caption{PAYMENTS fields}
\label{table:PAYMENTS}
\end{table}

\noindent\textit{*SQLite does not provide a dedicated \texttt{DATE} type.  
Dates are stored as normalized text in ISO-8601 format (\texttt{YYYY-MM-DD}).}



